$(async function(){ await OLP.loadData(); const id = OLP.getParam('id'); const course = OLP.findCourseById(id); if (!course) { location.href = '404.html'; return; } $('#resultCourse').text(course.title); const last = JSON.parse(localStorage.getItem('olp_last_score') || '{}'); if (last && (last.id === course.id)) { $('#score').text(`${last.score}%`); $('#scoreMeta').text(`${last.correct} / ${last.total} correct`); } else { $('#score').text('N/A'); $('#scoreMeta').text('No recent attempt found.'); } $('#retake').attr('href', `quiz.html?id=${encodeURIComponent(course.id)}`); $('#backCourse').attr('href', `course.html?id=${encodeURIComponent(course.id)}`); });